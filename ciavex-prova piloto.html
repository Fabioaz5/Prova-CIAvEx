<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Questionário Piloto - CIAvEx</title>
    <link rel="stylesheet" href="css/piloto.css" />
  </head>
  <body>
    <div class="container">
      <!-- Coluna 1 -->
      <div class="column">
        <div style="text-align: center">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/3/35/Ciavex.png"
            alt="Operações Aéreas"
            style="width: 80px"
          />
          <h2>Questionário Piloto - CIAvEx</h2>
        </div>
        <div class="input-group">
          <label>QRA:</label><input type="text" id="qr" style="width: 100%" />
        </div>
        <div class="input-group">
          <label>ID:</label><input type="text" id="id" style="width: 100%" />
        </div>
        <div class="input-group">
          <label>Instrutor:</label
          ><input type="text" id="instrutor" style="width: 100%" />
        </div>
        <div class="input-group">
          <label>Data:</label
          ><input type="date" id="data" style="width: 100%" />
        </div>
        <div class="resultado-final">
          <h3>Resultado Final:</h3>
          <p class="nota-final">
            Nota Final: <span id="notaFinal">0</span> /70
          </p>
          <div class="status">
            <label>Status:</label>
            <span id="statusFinal" class="pendente">Pendente</span>
          </div>
          <div class="input-group" style="margin-top: 15px">
            <label for="obs">OBS:</label>
            <textarea
              id="obs"
              placeholder="Digite observações aqui..."
              rows="4"
              style="width: 100%; resize: none"
            ></textarea>
          </div>
          <div class="input-group">
            <label for="descontoConduta">Desconto por Falta de Conduta:</label>
            <input
              type="number"
              id="descontoConduta"
              min="0"
              max="5"
              onchange="calcular()"
            />
          </div>
        </div>
      </div>

      <!-- Coluna 2 -->
      <div class="column">
        <div class="quadro">
          <h3>O que significa a sigla CIAvEx?</h3>
          <h5>
            <span class="frase-Resposta">R:</span> Centro de Instrução de
            Aviação do Exercito
          </h5>
          <p>
            <input
              type="checkbox"
              name="ciavex"
              value="0"
              onclick="calcular()"
            />
            Não sabe
          </p>
          <p>
            <input
              type="checkbox"
              name="ciavex"
              value="2"
              onclick="calcular()"
            />
            Resposta média
          </p>
          <p>
            <input
              type="checkbox"
              name="ciavex"
              value="4"
              onclick="calcular()"
            />
            Acertou tudo
          </p>
        </div>
        <div class="quadro">
          <h3>
            De acordo com o material, utilizando a aeronave como referência de
            relógio para comunicação, que hora indica o bico da aeronave?
          </h3>
          <h5><span class="frase-Resposta">R:</span> As 12horas/ Meio dia</h5>
          <p>
            <input
              type="checkbox"
              name="relogio"
              value="0"
              onclick="calcular()"
            />
            Não sabe
          </p>
          <p>
            <input
              type="checkbox"
              name="relogio"
              value="2"
              onclick="calcular()"
            />
            Acertou
          </p>
        </div>
        <div class="quadro">
          <h3>
            Em uma abordagem aérea, quantos avisos são necessários antes da
            autorização para abater?
          </h3>
          <h5><span class="frase-Resposta">R:</span> 3 Avisos</h5>
          <p>
            <input
              type="checkbox"
              name="aviso"
              value="0"
              onclick="calcular()"
            />
            Não sabe
          </p>
          <p>
            <input
              type="checkbox"
              name="aviso"
              value="2"
              onclick="calcular()"
            />
            Acertou
          </p>
        </div>
      </div>

      <!-- Coluna 3 -->
      <div class="column">
        <div class="input-group">
          <h3>
            Em qual situação e perímetro é permitido liberar a aeronave HAITUN
            para oficiais que não possuam o curso de piloto?
          </h3>
          <h5>
            <span class="frase-Resposta">R:</span>
          </h5>
          <p>
            <input
              type="checkbox"
              name="treino"
              value="0"
              onclick="calcular()"
            />
            Não sabe
          </p>
          <p>
            <input
              type="checkbox"
              name="treino"
              value="4"
              onclick="calcular()"
            />
            Acertou
          </p>
        </div>
        <div class="input-group">
          <h3>Qual é a função do piloto e do copiloto da aeronave?</h3>
          <h5>
            <span class="frase-Resposta">R:</span> A função do Piloto e conduzir
            a aeronave de maneira a zelar pela proteção da tripulação e
            integridade da aeronave, e o Copiloto deve fazer a operação do mapa
            e do rádio.
          </h5>
          <p>
            <input type="checkbox" name="p1" value="0" onclick="calcular()" />
            Não sabe
          </p>
          <p>
            <input type="checkbox" name="p1" value="2" onclick="calcular()" />
            Resposta média
          </p>
          <p>
            <input type="checkbox" name="p1" value="4" onclick="calcular()" />
            Acertou tudo
          </p>
        </div>
        <div class="input-group">
          <h3>....</h3>
          <h5><span class="frase-Resposta">R:</span> .....</h5>
          <p>
            <input type="checkbox" name="cod5" value="0" onclick="calcular()" />
            Não sabe
          </p>
          <p>
            <input type="checkbox" name="cod5" value="2" onclick="calcular()" />
            Resposta média
          </p>
          <p>
            <input type="checkbox" name="cod5" value="4" onclick="calcular()" />
            Acertou tudo
          </p>
        </div>
      </div>

      <!-- Coluna 4 -->
      <div class="column bold-content">
        <!-- Imagem e título -->
        <div style="text-align: center">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/3/35/Ciavex.png"
            alt="Operações Aéreas"
            style="width: 80px"
          />
          <h3>Questionário Piloto - CIAvEx (Prático)</h3>
          <h4>Notas de 0 a 5, sendo 0 ruim e 5 exelente.</h4>
        </div>
        <div class="input-group">
          <label>Nota - Modulação Aérea:</label>
          <input
            type="number"
            id="notaModAerea"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Modulação Código 0:</label>
          <input
            type="number"
            id="notaModCod0"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Modulação Acompanhamento:</label>
          <input
            type="number"
            id="notaModAcompanhamento"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <!-- Novos campos -->
        <div class="input-group">
          <label>Nota - Abordagem Aérea:</label>
          <input
            type="number"
            id="notaAbordagemAerea"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Código 3 Moto:</label>
          <input
            type="number"
            id="notaCod3Moto"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Código 5 Moto:</label>
          <input
            type="number"
            id="notaCod5Moto"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Código 3 Carro:</label>
          <input
            type="number"
            id="notaCod3Carro"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>
        <div class="input-group">
          <label>Nota - Código 5 Carro:</label>
          <input
            type="number"
            id="notaCod5Carro"
            min="0"
            max="5"
            onchange="calcular()"
          />
        </div>

        <!-- Botão Limpar Tudo -->
        <div style="text-align: center">
          <button type="button" onclick="limparTudo()">Limpar Tudo</button>
        </div>
      </div>
    </div>

    <script>
      function calcular() {
        let total = 0;

        const checkboxes = [
          "ciavex",
          "relogio",
          "treino",
          "aviso",
          "p1",
          "cod5",
        ];

        checkboxes.forEach((nome) => {
          let opcoes = document.getElementsByName(nome);
          for (let opcao of opcoes) {
            if (opcao.checked) {
              total += parseFloat(opcao.value);
              break;
            }
          }
        });

        const notas = [
          "notaModAerea",
          "notaModCod0",
          "notaModAcompanhamento",
          "notaAbordagemAerea",
          "notaCod3Moto",
          "notaCod5Moto",
          "notaCod3Carro",
          "notaCod5Carro",
        ];

        notas.forEach((id) => {
          total += parseFloat(document.getElementById(id).value) || 0;
        });

        let pontosConduta =
          parseFloat(document.getElementById("descontoConduta").value) || 0;
        total -= pontosConduta;
        total = Math.max(0, total);

        document.getElementById("notaFinal").textContent = total;

        const statusEl = document.getElementById("statusFinal");
        if (total >= 45) {
          statusEl.textContent = "Aprovado";
          statusEl.className = "aprovado";
        } else if (total > 0) {
          statusEl.textContent = "Reprovado";
          statusEl.className = "reprovado";
        } else {
          statusEl.textContent = "Pendente";
          statusEl.className = "pendente";
        }
      }

      function limparTudo() {
        document.getElementById("qr").value = "";
        document.getElementById("id").value = "";
        document.getElementById("instrutor").value = "";
        document.getElementById("data").value = "";
        document.getElementById("obs").value = "";

        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox) => (checkbox.checked = false));

        const notas = [
          "notaModAerea",
          "notaModCod0",
          "notaModAcompanhamento",
          "notaAbordagemAerea",
          "notaCod3Moto",
          "notaCod5Moto",
          "notaCod3Carro",
          "notaCod5Carro",
        ];

        notas.forEach((id) => {
          document.getElementById(id).value = "";
        });

        document.getElementById("descontoConduta").value = "";
        document.getElementById("notaFinal").textContent = "0";

        const statusEl = document.getElementById("statusFinal");
        statusEl.textContent = "Pendente";
        statusEl.className = "pendente";
      }
    </script>
  </body>
</html>
